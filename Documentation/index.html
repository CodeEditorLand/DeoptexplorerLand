<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta name="keywords" content="@playform/document"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>deoptexplorer-vscode</title><meta name="description" content="Documentation for deoptexplorer-vscode"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><link rel="stylesheet" href="assets/custom.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">deoptexplorer-vscode</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>deoptexplorer-vscode</h2></div><div class="tsd-panel tsd-typography"><a id="md:deoptexplorer-vscode" class="tsd-anchor"></a><h1 class="tsd-anchor-link">deoptexplorer-vscode<a href="#md:deoptexplorer-vscode" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>A VS Code extension to inspect deoptimizations, ICs, function states, V8 maps,
and cpu profiling data for your JavaScript and TypeScript code running in V8
(i.e., Edge, Chrome, NodeJS, etc.).</p>
<a id="md:overview" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Overview<a href="#md:overview" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Deopt Explorer is a tool for visualizing V8 trace log information in VS Code.
This can give you insight into the inner workings of V8's optimizing compiler
that can be used to analyze your code to look for possible causes for
performance regressions. This tool is primarily designed for advanced users who
have an understanding of V8's internals. It does not provide recommendations for
performance improvements, but does give you access to information that you can
use to make informed decisions about the performance of your code.</p>
<p>The information provided by Deopt Explorer can be broken down into several
categories:</p>
<ul>
<li><a href="#md:cpu-profiles">CPU Profiles</a> ‚Äî Provides a tree view to view CPU
profiling information.</li>
<li><a href="#md:inline-cache-evolution">Inline Cache evolution</a> ‚Äî Inspect how an
<a href="https://en.wikipedia.org/wiki/Inline_caching">Inline Cache</a> evolves during execution.</li>
<li><a href="#md:deoptimizations">Deoptimizations</a> ‚Äî View the kinds of
deoptimizations that occured in a function.</li>
<li><a href="#md:function-state">Function State</a> ‚Äî View whether a function was
interpreted or compiled.</li>
<li><a href="#md:maps">Maps</a> ‚Äî View the types of each object encountered by V8.</li>
</ul>
<a id="md:cpu-profiles" class="tsd-anchor"></a><h3 class="tsd-anchor-link">CPU Profiles<a href="#md:cpu-profiles" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Deopt Explorer can read trace file output from the <code>--prof</code> command line option
to provide a tree view that allows you to view <em>Top Down</em> (Call Tree), <em>Bottom
Up</em>, and Flat views, similar to the Chrome Dev Tools:</p>
<p><img src="media/profiler.png" alt="CPU Profiles"></p>
<a id="md:inline-cache-evolution" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Inline Cache Evolution<a href="#md:inline-cache-evolution" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Using the <code>ICS</code> tree view, you can navigate IC events and used editor
decorations and hover information to inspect how an <a href="https://en.wikipedia.org/wiki/Inline_caching">Inline Cache</a> (IC) evolves
based on the types of values encountered by V8's interpreter and optimizing compiler:</p>
<p><img src="media/inline-cache.png" alt="Inline Caches"></p>
<a id="md:deoptimizations" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Deoptimizations<a href="#md:deoptimizations" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Deopt Explorer provides information on when V8's optimizing compiler switches
back to the interpreter to collect type feedback that is used to patch a
function when different types are encountered:</p>
<p><img src="media/deoptimizations.png" alt="Deoptimizations"></p>
<a id="md:function-state" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Function State<a href="#md:function-state" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Deopt Explorer provides information on the state of a JavaScript function, such
as whether a function was executed enough times to be optimized by the
optimizing compiler, rather than being run purely in the interpreter:</p>
<p><img src="media/function-state.png" alt="Function State"></p>
<a id="md:maps" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Maps<a href="#md:maps" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>V8 keeps track of the layout of objects in memory in what is known as a &quot;Map&quot;
(not to be confused with the JavaScript <code>Map</code> object). This extension allows you
to view the various Maps encountered by an Inline Cache, and trace each property
in a Map back to the function that assigned it. This can allow you to
investigate and reduce unnecessary polymorphism in your code:</p>
<p><img src="media/maps-tree.png" alt="Maps View"></p>
<p>You can also peek at the maps associated with an <a href="#md:inline-caches">IC</a> event:</p>
<p><img src="media/maps-peek.png" alt="Maps Peek"></p>
<a id="md:how-to-use" class="tsd-anchor"></a><h2 class="tsd-anchor-link">How to Use<a href="#md:how-to-use" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Deopt Explorer gathers deoptimizations from a V8 log file you can generate from
the command line. The easiest way to generate a log compatible with your current
NodeJS install is to use <a href="#md:dexnode"><code>dexnode</code></a>.</p>
<a id="md:dexnode" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>dexnode</code><a href="#md:dexnode" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><a href="https://npmjs.com/package/dexnode"><code>dexnode</code></a> is a commandline utility
published on NPM. It wraps the existing <code>node</code> executable to provide the
commandline options necessary to generate a v8 log that can be consumed by Deopt
Explorer.</p>
<a id="md:üöÄ-installation" class="tsd-anchor"></a><h4 class="tsd-anchor-link">üöÄ Installation<a href="#md:üöÄ-installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="sh"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-3">--global</span><span class="hl-1"> </span><span class="hl-2">dexnode</span>
</code><button type="button">Copy</button></pre>

<a id="md:examples" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Examples<a href="#md:examples" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="sh"><span class="hl-4"># NodeJS (via global install)</span><br/><span class="hl-0">dexnode</span><span class="hl-1"> </span><span class="hl-2">myscript.js</span><br/><br/><span class="hl-4"># NodeJS (via `npm exec`)</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">exec</span><span class="hl-1"> </span><span class="hl-2">dexnode</span><span class="hl-1"> </span><span class="hl-2">myscript.js</span><br/><br/><span class="hl-4"># Deno (via `deno run`)</span><br/><span class="hl-0">deno</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-3">-A</span><span class="hl-1"> </span><span class="hl-2">npm:dexnode</span><span class="hl-1"> </span><span class="hl-2">myscript.js</span>
</code><button type="button">Copy</button></pre>

<a id="md:üõ†Ô∏è-usage" class="tsd-anchor"></a><h4 class="tsd-anchor-link">üõ†Ô∏è Usage<a href="#md:üõ†Ô∏è-usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code><span class="hl-5">dexnode</span><span class="hl-1"> [</span><span class="hl-5">options</span><span class="hl-1">] [--] &lt;</span><span class="hl-5">executable</span><span class="hl-1">&gt; [</span><span class="hl-5">executable_options</span><span class="hl-1">]</span><br/><span class="hl-6">options</span><span class="hl-1">:</span><br/><span class="hl-1">  -</span><span class="hl-5">h</span><span class="hl-1"> --</span><span class="hl-5">help</span><span class="hl-1">        </span><span class="hl-5">print</span><span class="hl-1"> </span><span class="hl-3">this</span><span class="hl-1"> </span><span class="hl-5">message</span><br/><span class="hl-1">     --</span><span class="hl-5">no</span><span class="hl-1">-</span><span class="hl-5">maps</span><span class="hl-1">     </span><span class="hl-5">exclude</span><span class="hl-1"> </span><span class="hl-5">v8</span><span class="hl-1"> </span><span class="hl-5">maps</span><span class="hl-1"> </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-5">log</span><br/><span class="hl-1">     --</span><span class="hl-5">no</span><span class="hl-1">-</span><span class="hl-5">ics</span><span class="hl-1">      </span><span class="hl-5">exclude</span><span class="hl-1"> </span><span class="hl-5">ics</span><span class="hl-1"> </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-5">log</span><br/><span class="hl-1">     --</span><span class="hl-5">no</span><span class="hl-1">-</span><span class="hl-5">deopts</span><span class="hl-1">   </span><span class="hl-5">exclude</span><span class="hl-1"> </span><span class="hl-5">deopts</span><span class="hl-1"> </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-5">log</span><br/><span class="hl-1">     --</span><span class="hl-5">no</span><span class="hl-1">-</span><span class="hl-5">profile</span><span class="hl-1">  </span><span class="hl-5">exclude</span><span class="hl-1"> </span><span class="hl-5">cpu</span><span class="hl-1"> </span><span class="hl-5">profile</span><span class="hl-1"> </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-5">log</span><br/><span class="hl-1">     --</span><span class="hl-5">no</span><span class="hl-1">-</span><span class="hl-5">sources</span><span class="hl-1">  </span><span class="hl-5">exclude</span><span class="hl-1"> </span><span class="hl-5">sources</span><span class="hl-1"> </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-5">log</span><br/><span class="hl-1">     --</span><span class="hl-5">no</span><span class="hl-1">-</span><span class="hl-5">quiet</span><span class="hl-1">    </span><span class="hl-5">write</span><span class="hl-1"> </span><span class="hl-5">dexnode</span><span class="hl-1"> </span><span class="hl-5">messages</span><span class="hl-1"> </span><span class="hl-5">to</span><span class="hl-1"> </span><span class="hl-0">stdout</span><span class="hl-1"> (</span><span class="hl-5">default</span><span class="hl-1">)</span><br/><span class="hl-1">     --</span><span class="hl-5">maps</span><span class="hl-1">        </span><span class="hl-5">include</span><span class="hl-1"> </span><span class="hl-5">v8</span><span class="hl-1"> </span><span class="hl-5">maps</span><span class="hl-1"> </span><span class="hl-3">in</span><span class="hl-1"> </span><span class="hl-0">log</span><span class="hl-1"> (</span><span class="hl-5">default</span><span class="hl-1">)</span><br/><span class="hl-1">     --</span><span class="hl-5">ics</span><span class="hl-1">         </span><span class="hl-5">include</span><span class="hl-1"> </span><span class="hl-5">ics</span><span class="hl-1"> </span><span class="hl-3">in</span><span class="hl-1"> </span><span class="hl-0">log</span><span class="hl-1"> (</span><span class="hl-5">default</span><span class="hl-1">)</span><br/><span class="hl-1">     --</span><span class="hl-5">deopts</span><span class="hl-1">      </span><span class="hl-5">include</span><span class="hl-1"> </span><span class="hl-5">deopts</span><span class="hl-1"> </span><span class="hl-3">in</span><span class="hl-1"> </span><span class="hl-0">log</span><span class="hl-1"> (</span><span class="hl-5">default</span><span class="hl-1">)</span><br/><span class="hl-1">     --</span><span class="hl-5">profile</span><span class="hl-1">     </span><span class="hl-5">include</span><span class="hl-1"> </span><span class="hl-5">cpu</span><span class="hl-1"> </span><span class="hl-5">profile</span><span class="hl-1"> </span><span class="hl-3">in</span><span class="hl-1"> </span><span class="hl-0">log</span><span class="hl-1"> (</span><span class="hl-5">default</span><span class="hl-1">)</span><br/><span class="hl-1">     --</span><span class="hl-5">sources</span><span class="hl-1">     </span><span class="hl-5">include</span><span class="hl-1"> </span><span class="hl-5">sources</span><span class="hl-1"> </span><span class="hl-3">in</span><span class="hl-1"> </span><span class="hl-0">log</span><span class="hl-1"> (</span><span class="hl-5">default</span><span class="hl-1">)</span><br/><span class="hl-1">     --</span><span class="hl-5">quiet</span><span class="hl-1">       </span><span class="hl-7">do</span><span class="hl-1"> </span><span class="hl-5">not</span><span class="hl-1"> </span><span class="hl-5">write</span><span class="hl-1"> </span><span class="hl-5">dexnode</span><span class="hl-1"> </span><span class="hl-5">messages</span><span class="hl-1"> </span><span class="hl-5">to</span><span class="hl-1"> </span><span class="hl-5">stdout</span><br/><span class="hl-1">     --</span><span class="hl-5">out</span><span class="hl-1"> </span><span class="hl-8">FILE</span><span class="hl-1">    </span><span class="hl-5">write</span><span class="hl-1"> </span><span class="hl-5">all</span><span class="hl-1"> </span><span class="hl-5">log</span><span class="hl-1"> </span><span class="hl-5">output</span><span class="hl-1"> </span><span class="hl-5">to</span><span class="hl-1"> </span><span class="hl-0">FILE</span><span class="hl-1"> (</span><span class="hl-5">default</span><span class="hl-1">: </span><span class="hl-5">isolate</span><span class="hl-1">-&lt;</span><span class="hl-9">pid</span><span class="hl-1">&gt;-&lt;</span><span class="hl-9">isolate</span><span class="hl-1"> </span><span class="hl-9">id</span><span class="hl-1">&gt;-</span><span class="hl-5">v8</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">)</span><br/><span class="hl-1">     --            </span><span class="hl-5">pass</span><span class="hl-1"> </span><span class="hl-5">all</span><span class="hl-1"> </span><span class="hl-5">remaining</span><span class="hl-1"> </span><span class="hl-3">arguments</span><span class="hl-1"> </span><span class="hl-5">to</span><span class="hl-1"> </span><span class="hl-5">node</span>
</code><button>Copy</button></pre>

<a id="md:nodejs-commandline-options" class="tsd-anchor"></a><h3 class="tsd-anchor-link">NodeJS Commandline Options<a href="#md:nodejs-commandline-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>You can also pass the requisite commandline options directly to the <code>node</code>
process. Since V8 is constantly evolving, the exact command line switches depend
on the version of V8, NodeJS, etc. Running with the requisite switches will
create an <code>isolate-&lt;id&gt;-v8.log</code> file in the current directory that can be
consumed by Deopt Explorer.</p>
<a id="md:nodejs-16" class="tsd-anchor"></a><h4 class="tsd-anchor-link">NodeJS 16+<a href="#md:nodejs-16" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="sh"><span class="hl-0">node</span><span class="hl-1"> </span><span class="hl-10">\</span><br/><span class="hl-1">	</span><span class="hl-3">--prof</span><span class="hl-1"> </span><span class="hl-10">\</span><br/><span class="hl-1">	</span><span class="hl-3">--log-deopt</span><span class="hl-1"> </span><span class="hl-10">\</span><br/><span class="hl-1">	</span><span class="hl-3">--log-ic</span><span class="hl-1"> </span><span class="hl-10">\</span><br/><span class="hl-1">	</span><span class="hl-3">--log-maps</span><span class="hl-1"> </span><span class="hl-10">\</span><br/><span class="hl-1">	</span><span class="hl-3">--log-maps-details</span><span class="hl-1"> </span><span class="hl-10">\</span><br/><span class="hl-1">	</span><span class="hl-3">--log-internal-timer-events</span><span class="hl-1"> </span><span class="hl-10">\</span><br/><span class="hl-1">	</span><span class="hl-3">--log-code</span><span class="hl-1"> </span><span class="hl-10">\</span><br/><span class="hl-1">	</span><span class="hl-3">--log-source-code</span><span class="hl-1"> </span><span class="hl-10">\</span><br/><span class="hl-1">	</span><span class="hl-3">--detailed-line-info</span><span class="hl-1"> </span><span class="hl-10">\</span><br/><span class="hl-1">	</span><span class="hl-2">path/to/file.js</span>
</code><button type="button">Copy</button></pre>

<a id="md:nodejs-12x-14x" class="tsd-anchor"></a><h4 class="tsd-anchor-link">NodeJS 12.x, 14.x<a href="#md:nodejs-12x-14x" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="sh"><span class="hl-0">node</span><span class="hl-1"> </span><span class="hl-10">\</span><br/><span class="hl-1">	</span><span class="hl-3">--prof</span><span class="hl-1"> </span><span class="hl-10">\</span><br/><span class="hl-1">	</span><span class="hl-3">--trace-ic</span><span class="hl-1"> </span><span class="hl-10">\</span><br/><span class="hl-1">	</span><span class="hl-3">--trace-maps</span><span class="hl-1"> </span><span class="hl-10">\</span><br/><span class="hl-1">	</span><span class="hl-3">--trace-maps-details</span><span class="hl-1"> </span><span class="hl-10">\</span><br/><span class="hl-1">	</span><span class="hl-3">--log-internal-timer-events</span><span class="hl-1"> </span><span class="hl-10">\</span><br/><span class="hl-1">	</span><span class="hl-3">--log-code</span><span class="hl-1"> </span><span class="hl-10">\</span><br/><span class="hl-1">	</span><span class="hl-3">--log-source-code</span><span class="hl-1"> </span><span class="hl-10">\</span><br/><span class="hl-1">	</span><span class="hl-3">--detailed-line-info</span><span class="hl-1"> </span><span class="hl-10">\</span><br/><span class="hl-1">	</span><span class="hl-2">path/to/file.js</span>
</code><button type="button">Copy</button></pre>

<a id="md:options-overview" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Options Overview<a href="#md:options-overview" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>The options provided above have the following effects on the output log file,
which are leveraged by Deopt Explorer:</p>
<ul>
<li><code>--prof</code> ‚Äî Writes statistical profiling information to the log
(implies <code>--log-code</code>, see below).
<ul>
<li>Deopt Explorer uses the profiling information to generate a navigable
CPU profile and to generate graphs that indicate where time is spent
during execution.</li>
</ul>
</li>
<li><code>--log-deopt</code> ‚Äî Writes code deoptimization events to the log.
<ul>
<li>Deopt Explorer uses this information to track and provide explanations
for deoptimizations that happen during execution.</li>
</ul>
</li>
<li><code>--log-ic</code>/<code>--trace-ic</code> ‚Äî Writes inline cache (IC) state transitions
to the log.
<ul>
<li>Deopt Explorer uses this information to track and provide explanations
for the various optimizations and deoptimizations that happen during
execution, such as when a function transitions from being &quot;monomorphic&quot;
to becoming &quot;polymorphic&quot; due to differing inputs.</li>
</ul>
</li>
<li><code>--log-maps</code>/<code>--trace-maps</code> ‚Äî Writes information about v8 &quot;maps&quot; (the
internal representation of a JavaScript Object's structure and properties)
to the log.
<ul>
<li>Deopt Explorer uses this to provide detailed information about the
various &quot;maps&quot; v8 encounters to help isolate differences in object shape
that might cause inline cache misses and trigger recompilation</li>
</ul>
</li>
<li><code>--log-maps-details</code>/<code>--trace-maps-details</code> ‚Äî Writes additional
details about v8 &quot;maps&quot; to the log.
<ul>
<li>Deopt Explorer provides this additional information when viewing a map.</li>
</ul>
</li>
<li><code>--log-internal-timer-events</code> ‚Äî Writes internal V8 timer events to the
log file.
<ul>
<li>Deopt Explorer uses these events to generate graphs that indicate wheere
time is spent during execution.</li>
</ul>
</li>
<li><code>--log-code</code> ‚Äî Writes code events to the log file (automatically set
if <code>--prof</code> is provided).
<ul>
<li>Deopt Explorer uses this information to track function addresses and
deoptimization bailouts.</li>
</ul>
</li>
<li><code>--log-source-code</code> ‚Äî Writes the script ID, URL (or path), and source
text for each script evaluated by V8.
<ul>
<li>Deopt Explorer uses this information to get accurate line/column
mappings for sources, and makes the log file portable to other machines
for analysis.</li>
<li>NOTE: This setting is <em>optional</em>. Deopt Explorer will attempt to resolve
the source code from the file system for the scripts it encounters.</li>
</ul>
</li>
<li><code>--detailed-line-info</code> ‚Äî Writes detailed line information to the log
file for use with CPU profiling.
<ul>
<li>Deopt Explorer uses this information to get accurate line/column
mappings.</li>
</ul>
</li>
</ul>
<blockquote>
<p>NOTE: Some flags are not supported in all versions of v8/NodeJS. You may omit
flags that are not available and Deopt Explorer will still work, though with
reduced functionality.</p>
</blockquote>
<p>In addition, you can customize the log file name and location using the
following options:</p>
<ul>
<li><code>--logfile=&quot;path/to/file.log&quot;</code> - Sets the name of the output log file. If
log files are generated per isolate (the default), an <code>isolate-&lt;id&gt;-</code> prefix
will be prepended to the file name.</li>
<li><code>--no-logfile-per-isolate</code> - Disables generation of a separate log file per
isolate.</li>
</ul>
<p>From within VS Code, execute the <code>Deopt Explorer: Open V8 Log</code> command. This
will add highlighting for various optimization hints in the related source code
files:</p>
<ul>
<li>Highlighting and diagnostics for Eager, Lazy, Soft, and Debugger
deoptimizations.</li>
<li>Highlighting for IC hints, such as polymorphic and megamorphic property
access.</li>
<li>Highlighting for Optimization state for functions.</li>
</ul>
<a id="md:chromium-chrome-ms-edge-commandline-options" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Chromium (Chrome, MS Edge) Commandline Options<a href="#md:chromium-chrome-ms-edge-commandline-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To use Deopt Explorer with Chrome, Edge, or other Chromium based browsers, you
must specify the <code>--no-sandbox</code> commandline option and encode the same V8
options from <a href="#md:options-overview">Options Overview</a> as a comma-separated list
passed via the <code>--js-flags</code> option. For example:</p>
<pre><code><span class="hl-5">chrome</span><span class="hl-1"> \</span><br/><span class="hl-1">  --</span><span class="hl-5">no</span><span class="hl-1">-</span><span class="hl-5">sandbox</span><span class="hl-1"> \</span><br/><span class="hl-1">  --</span><span class="hl-5">js</span><span class="hl-1">-</span><span class="hl-5">flags</span><span class="hl-1">=--</span><span class="hl-5">log</span><span class="hl-1">-</span><span class="hl-5">deopt</span><span class="hl-1">,--</span><span class="hl-5">log</span><span class="hl-1">-</span><span class="hl-5">ic</span><span class="hl-1">,--</span><span class="hl-5">log</span><span class="hl-1">-</span><span class="hl-5">maps</span><span class="hl-1">,--</span><span class="hl-5">log</span><span class="hl-1">-</span><span class="hl-5">maps</span><span class="hl-1">-</span><span class="hl-5">details</span><span class="hl-1">,--</span><span class="hl-5">log</span><span class="hl-1">-</span><span class="hl-5">internal</span><span class="hl-1">-</span><span class="hl-5">timer</span><span class="hl-1">-</span><span class="hl-5">events</span><span class="hl-1">,--</span><span class="hl-5">prof</span><span class="hl-1">,... &lt;</span><span class="hl-8">URL</span><span class="hl-1">&gt;</span>
</code><button>Copy</button></pre>

<p>It may be necessary to ensure all existing browser processes are closed before
launching the browser. On Android, it may also be necessary to specify the
<code>--single-process</code> option due to Android's sandboxing rules:</p>
<pre><code><span class="hl-5">chrome</span><span class="hl-1"> \</span><br/><span class="hl-1">  --</span><span class="hl-5">no</span><span class="hl-1">-</span><span class="hl-5">sandbox</span><span class="hl-1"> \</span><br/><span class="hl-1">  --</span><span class="hl-5">single</span><span class="hl-1">-</span><span class="hl-5">process</span><span class="hl-1"> \</span><br/><span class="hl-1">  --</span><span class="hl-5">js</span><span class="hl-1">-</span><span class="hl-5">flags</span><span class="hl-1">=--</span><span class="hl-5">log</span><span class="hl-1">-</span><span class="hl-5">deopt</span><span class="hl-1">,--</span><span class="hl-5">log</span><span class="hl-1">-</span><span class="hl-5">ic</span><span class="hl-1">,--</span><span class="hl-5">log</span><span class="hl-1">-</span><span class="hl-5">maps</span><span class="hl-1">,--</span><span class="hl-5">log</span><span class="hl-1">-</span><span class="hl-5">maps</span><span class="hl-1">-</span><span class="hl-5">details</span><span class="hl-1">,--</span><span class="hl-5">log</span><span class="hl-1">-</span><span class="hl-5">internal</span><span class="hl-1">-</span><span class="hl-5">timer</span><span class="hl-1">-</span><span class="hl-5">events</span><span class="hl-1">,--</span><span class="hl-5">prof</span><span class="hl-1">,... &lt;</span><span class="hl-8">URL</span><span class="hl-1">&gt;</span>
</code><button>Copy</button></pre>

<a id="md:caveats" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Caveats<a href="#md:caveats" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>V8 changes frequently in ways that can break this tool. While I try to keep this
up to date with engine releases, and support multiple versions of the engine, it
can be difficult for one person to keep on top of breaking changes. If you find
the extension is not working for you and you are using a more recent version of
NodeJS or the V8 engine, please file an issue. Log parsing failures should show
up in the Output Window for the &quot;Deopt Explorer&quot; extension.</p>
<!--
## Color Customization

The following color customizations can be configured in your VS Code user or workspace settings under the `"workbench.colorCustomizations"` section:

- `deoptexplorer.uninitializedIc.background` - Background color for 'Uninitialized' V8 ICs
- `deoptexplorer.uninitializedIc.border` - Border color for 'Uninitialized' V8 ICs
- `deoptexplorer.uninitializedIc.overviewRuler` - Overview ruler color for 'Uninitialized' V8 ICs
- `deoptexplorer.premonomorphicIc.background` - Background color for 'Premonomorphic' V8 ICs
- `deoptexplorer.premonomorphicIc.border` - Border color for 'Premonomorphic' V8 ICs
- `deoptexplorer.premonomorphicIc.overviewRuler` - Overview ruler color for 'Premonomorphic' V8 ICs
- `deoptexplorer.monomorphicIc.background` - Background color for 'Monomorphic' V8 ICs
- `deoptexplorer.monomorphicIc.border` - Border color for 'Monomorphic' V8 ICs
- `deoptexplorer.monomorphicIc.overviewRuler` - Overview ruler color for 'Monomorphic' V8 ICs
- `deoptexplorer.polymorphicIc.background` - Background color for 'Polymorphic' V8 ICs
- `deoptexplorer.polymorphicIc.border` - Border color for 'Polymorphic' V8 ICs
- `deoptexplorer.polymorphicIc.overviewRuler` - Overview ruler color for 'Polymorphic' V8 ICs
- `deoptexplorer.recomputeHandlerIc.background` - Background color for 'Recompute Handler' V8 ICs
- `deoptexplorer.recomputeHandlerIc.border` - Border color for 'Recompute Handler' V8 ICs
- `deoptexplorer.recomputeHandlerIc.overviewRuler` - Overview ruler color for 'Recompute Handler' V8 ICs
- `deoptexplorer.megamorphicIc.background` - Background color for 'Megamorphic' V8 ICs
- `deoptexplorer.megamorphicIc.border` - Border color for 'Megamorphic' V8 ICs
- `deoptexplorer.megamorphicIc.overviewRuler` - Overview ruler color for 'Megamorphic' V8 ICs
- `deoptexplorer.genericIc.background` - Background color for 'Generic' V8 ICs
- `deoptexplorer.genericIc.border` - Border color for 'Generic' V8 ICs
- `deoptexplorer.genericIc.overviewRuler` - Overview ruler color for 'Generic' V8 ICs
- `deoptexplorer.softDeopt.background` - Background color for 'Soft' V8 Deoptimizations
- `deoptexplorer.softDeopt.border` - Border color for 'Soft' V8 Deoptimizations
- `deoptexplorer.softDeopt.overviewRuler` - Overview ruler color for 'Soft' V8 Deoptimizations
- `deoptexplorer.lazyDeopt.background` - Background color for 'Lazy' V8 Deoptimizations
- `deoptexplorer.lazyDeopt.border` - Border color for 'Lazy' V8 Deoptimizations
- `deoptexplorer.lazyDeopt.overviewRuler` - Overview ruler color for 'Lazy' V8 Deoptimizations
- `deoptexplorer.eagerDeopt.background` - Background color for 'Eager' V8 Deoptimizations
- `deoptexplorer.eagerDeopt.border` - Border color for 'Eager' V8 Deoptimizations
- `deoptexplorer.eagerDeopt.overviewRuler` - Overview ruler color for 'Eager' V8 Deoptimizations
- `deoptexplorer.compiledCode.background` - Background color for 'Compiled' V8 Code entries
- `deoptexplorer.compiledCode.overviewRuler` - Overview ruler color for 'Compiled' V8 Code entries
- `deoptexplorer.optimizableCode.background` - Background color for 'Optimizable' (ie. 'Interpreted') V8 Code entries
- `deoptexplorer.optimizableCode.overviewRuler` - Overview ruler color for 'Optimizable' (ie. 'Interpreted') V8 Code entries
- `deoptexplorer.optimizedCode.background` - Background color for 'Optimized' V8 Code entries
- `deoptexplorer.optimizedCode.overviewRuler` - Overview ruler color for 'Optimized' V8 Code entries
-->
<!--
## Release Notes

Users appreciate release notes as you update your extension.

### 1.0.0

Initial release of ...

### 1.0.1

Fixed issue #.

### 1.1.0

Added features X, Y, and Z.
-->
<a id="md:license" class="tsd-anchor"></a><h1 class="tsd-anchor-link">License<a href="#md:license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Deopt Explorer is free and open-source software and is licensed under the
<a href="media/LICENSE">MIT License</a>.</p>
<a id="md:third-party-licenses" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Third Party Licenses<a href="#md:third-party-licenses" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Deopt Explorer was made possible by building on the works of other talented
engineers. You can find more information about the licenses for these projects
in <a href="THIRD_PARTY_LICENSES">THIRD_PARTY_LICENSES</a>. This includes:</p>
<ul>
<li>V8 (<a href="media/LICENSE.v8">LICENSE.v8</a>)</li>
<li>Chromium (<a href="media/LICENSE.chromium">LICENSE.chromium</a>)</li>
<li>Visual Studio Code (<a href="media/LICENSE.vscode">LICENSE.vscode</a>)</li>
<li>Deoptigate (<a href="media/LICENSE.deoptigate">LICENSE.deoptigate</a>), by Thorsten Lorenz
(@thlorenz).</li>
</ul>
<a id="md:trademarks" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Trademarks<a href="#md:trademarks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This project may contain trademarks or logos for projects, products, or
services. Authorized use of Microsoft trademarks or logos is subject to and must
follow <a href="https://www.microsoft.com/en-us/legal/intellectualproperty/trademarks/usage/general">Microsoft‚Äôs Trademark &amp; Brand Guidelines</a>. Use of Microsoft
trademarks or logos in modified versions of this project must not cause
confusion or imply Microsoft sponsorship. Any use of third-party trademarks or
logos are subject to those third-party‚Äôs policies.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:deoptexplorer-vscode"><span>deoptexplorer-<wbr/>vscode</span></a><ul><li><a href="#md:overview"><span>Overview</span></a></li><li><ul><li><a href="#md:cpu-profiles"><span>CPU <wbr/>Profiles</span></a></li><li><a href="#md:inline-cache-evolution"><span>Inline <wbr/>Cache <wbr/>Evolution</span></a></li><li><a href="#md:deoptimizations"><span>Deoptimizations</span></a></li><li><a href="#md:function-state"><span>Function <wbr/>State</span></a></li><li><a href="#md:maps"><span>Maps</span></a></li></ul></li><li><a href="#md:how-to-use"><span>How to <wbr/>Use</span></a></li><li><ul><li><a href="#md:dexnode"><span>dexnode</span></a></li><li><ul><li><a href="#md:üöÄ-installation"><span>üöÄ <wbr/>Installation</span></a></li><li><a href="#md:examples"><span>Examples</span></a></li><li><a href="#md:üõ†Ô∏è-usage"><span>üõ†Ô∏è <wbr/>Usage</span></a></li></ul></li><li><a href="#md:nodejs-commandline-options"><span>NodeJS <wbr/>Commandline <wbr/>Options</span></a></li><li><ul><li><a href="#md:nodejs-16"><span>NodeJS 16+</span></a></li><li><a href="#md:nodejs-12x-14x"><span>NodeJS 12.x, 14.x</span></a></li><li><a href="#md:options-overview"><span>Options <wbr/>Overview</span></a></li></ul></li><li><a href="#md:chromium-chrome-ms-edge-commandline-options"><span>Chromium (<wbr/>Chrome, MS <wbr/>Edge) <wbr/>Commandline <wbr/>Options</span></a></li></ul></li><li><a href="#md:caveats"><span>Caveats</span></a></li></ul><a href="#md:license"><span>License</span></a><ul><li><a href="#md:third-party-licenses"><span>Third <wbr/>Party <wbr/>Licenses</span></a></li><li><a href="#md:trademarks"><span>Trademarks</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>deoptexplorer-vscode</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
